# Проект для быстрой разработки YC Functions

### Премущества

1) Строгая типизация данных
2) Автоматическая сборка всех функции
3) Настроенное форматирование

## Как работать

#### Если вы хотите создать новую функцию

1) Добавьте папку с названием функции в ```src/entrypoints``` (данная папка является входным путем для сборки)
2) Создайте входную точку для YC Functions (можно скопировать из ```src/entrypoints/index.ts```), без ```index.ts``` функция не соберется
3) Пишите логику

#### Если вы хотите собрать функции

```npm run build``` ищет все ```index.ts``` файлы в папке с функциями (```entrypoints```) и считает их начальной точкой для сборки.
Запустите команду автоматической сборки всех скриптов ```npm run build```, не забудьте предварительно запустить ```npm run prettier``` и ```npm run lint```.
Вы получите несколько сгенерированных минифицированных фаилов, каждый из файлов которые вы планируете загрузить в Object Storage необходимо заархивировать вместе с ```package.json```

Например:
После выполнения команды ```npm run build``` у вас получилось 2 файла: ```example.js``` и ```main.js```.
Их необходимо заархивировать вместе с ```package.json```
```
|-- example.zip
|---- example.js
|---- package.json

|-- main.zip
|---- main.js
|---- package.json
```
Можно загружать данные архивы в Object Storage
Создать функции в YC Functions указав путь до архива 
"Точка входа" зависит от того что вы экспортировали в ```index.ts``` (по умолчанию это функция ```handler```), если вы не меняли то укажите ```index.handler```

## TODO

- [ ] После сборки автоматически архивировать функции
- [ ] Устанавливать зависимости при сборке, чтобы избавиться от ```package.json``` (потенциально должно сократить время сборки функции)
- [ ] Добавить ```CLI``` для быстрой генерации шаблонного кода, например создание функции
- [ ] Добавить кеширование при сборке
- [ ] Добавить CI, который при релизе будет автоматически загружать сгенерированные измененные функции в Object Storage
